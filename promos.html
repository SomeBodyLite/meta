<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="./assets/css/reset.css" />
    <link rel="stylesheet" href="./assets/css/flag-icon.min.css" />
    <link rel="stylesheet" href="./assets/css/style.css" />
    <title>Metamorphosis</title>
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Metamorphosis" />
    <link rel="manifest" href="/site.webmanifest" />
    <style>
      @media (max-width: 1700px) {
        .app-content {
          flex-direction: column;
        }
        .grid-auto {
          display: grid;
        }
      }
      @media (max-width: 900px) {
        .app-content {
          gap: 14px;
        }
        .grid-auto {
          display: flex !important;
          flex-wrap: wrap !important;
        }
        .modal .grid-auto {
          display: grid !important;
          gap: 8px;
        }
        .modal {
          .subtitle.text-center.mt-10 {
            margin-top: 4px !important;
          }
          .down-separator {
            margin-top: 4px !important;
          }
          .down-separator.mt-30.mb-30 {
            margin-top: 20px !important;
            margin-bottom: 20px !important;
          }
          #stats-activations,
          #stats-deposits,
          #stats-conversion {
            border-radius: 10px !important;
            padding: 7px !important;
            font-size: 14px !important;
          }
          .fz-16.text-white.fw-600.title.text-center {
            font-size: 8px !important;
          }
          .fz-18.fw-700.text-white {
            font-size: 12px !important;
          }
          #stats-promo {
            max-height: unset;
          }
          .modal-stats-grid {
            gap: 14px;
            max-height: 220px;
            overflow: auto;
            & .item {
              grid-template-columns: 1fr 110px;
              gap: 13px;
              .value {
                font-size: 11px;
                padding: 10px;
              }
              & .cover {
                .cover-item {
                  font-size: 11px;
                }
              }
            }
          }
        }
        .group-column > .flex {
          flex-direction: row;
          gap: 6px;
          align-items: center;
        }
        .form-group {
          & .form-group__label {
            .form-group__input {
              min-width: 100px;
            }
          }
        }
        .pay-stats {
          padding-block: 10px!important;
          .down-separator{
            margin-top: 12px!important;
          }
          .gap-20 {
            gap: 14px !important;
            margin-top: 14px !important;
          }
          
        }
      }
    </style>
  </head>
  <body>
    <header class="header" id="header"></header>
    <main class="main">
      <div class="container">
        <div class="main-content">
          <section class="sidebar" id="sidebar"></section>
          <div class="app-content">
            <div class="block light light-down p-32 pay-stats">
              <div class="flex align-center justify-center gap-12">
                <svg class="icon">
                  <use xlink:href="./assets/images/icons.svg#ticket"></use>
                </svg>
                <h2 class="title">Добавить промокод</h2>
              </div>
              <div class="down-separator" style="margin-top: 16px"></div>
              <div class="mt-25 flex flex-column gap-20">
                <div
                  class="block light-down p-16 radius-20 group-column"
                  style="background-color: #0e1323"
                >
                  <div class="flex align-start">
                    <div class="flex flex-column flex-100">
                      <h6 class="title">Промокод</h6>
                      <p class="fz-14 fw-500 text-gray lh-normal">
                        Оставьте поле пустым чтобы получить случайный промо
                      </p>
                    </div>
                    <div class="form-group border small">
                      <label class="form-group__label">
                        <input
                          type="text"
                          class="form-group__input fw-500 text-center"
                          placeholder="введите промокод"
                        />
                        <button class="form-group__button"></button>
                      </label>
                    </div>
                  </div>
                </div>
                <div
                  class="block light-down p-16 radius-20 group-column"
                  style="background-color: #0e1323"
                >
                  <div class="flex align-start">
                    <div class="flex flex-column flex-100">
                      <h6 class="title">Сумма</h6>
                      <p class="fz-14 fw-500 text-gray lh-normal">
                        Сумма промокода
                      </p>
                    </div>
                    <div class="form-group border small">
                      <label class="form-group__label">
                        <input
                          type="text"
                          class="form-group__input fw-500 text-center"
                          placeholder="введите сумму"
                        />
                        <button class="form-group__button"></button>
                      </label>
                    </div>
                  </div>
                </div>
                <div
                  class="block light-down p-16 radius-20 group-column"
                  style="background-color: #0e1323"
                >
                  <div class="flex align-start">
                    <div class="flex flex-column flex-100">
                      <h6 class="title">Отыгрыш</h6>
                      <p class="fz-14 fw-500 text-gray lh-normal">
                        Необходимо ли отыграть промокод для вывода средств
                      </p>
                    </div>
                    <input name="1" type="checkbox" class="switch" />
                  </div>
                </div>
                <div class="flex justify-end">
                  <button
                    class="btn btn-gradient radius-20 btn-big"
                    onclick="showNotification('Ошибка в создании промокода', 'Такой промокод уже существует. ', 'error')"
                  >
                    Добавить
                  </button>
                </div>
              </div>
            </div>
            <div class="block w-100 p-32 light">
              <div class="flex justify-between">
                <div class="flex align-center justify-center gap-12">
                  <svg class="icon">
                    <use xlink:href="./assets/images/icons.svg#ticket"></use>
                  </svg>
                  <h2 class="title">Промокоды</h2>
                </div>
                <div class="flex align-center gap-24 justify-center">
                  <div class="form-group border">
                    <label class="form-group__label">
                      <input
                        type="text"
                        class="form-group__input"
                        placeholder="поиск промокода"
                      />
                      <button class="form-group__button"></button>
                    </label>
                  </div>
                </div>
              </div>
              <div class="down-separator" style="margin-top: 15px"></div>
              <div class="table-container">
                <div class="table-item">
                  <table class="promos__list list-wrapper">
                    <thead class="list-header">
                      <tr>
                        <th class="list-title">Промокод</th>
                        <th class="list-title">Сумма</th>
                        <th class="list-title">Депозитов</th>
                        <th class="list-title">Активаций</th>
                        <th class="list-title">Действия</th>
                      </tr>
                    </thead>
                    <tbody class="list-body list-container"></tbody>
                  </table>
                </div>
                <div class="list-pagination"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script src="./assets/js/data/promos.js"></script>
    <script src="./assets/js/data/promosTemplate.js"></script>
    <script src="./assets/js/script.js"></script>

    <div class="overlay js-overlay-modal"></div>
    <div class="modal" data-modal="edit-promo">
      <svg class="icon modal-close-icon js-modal-close">
        <use xlink:href="./assets/images/icons.svg#close"></use>
      </svg>
      <div class="flex flex-column">
        <div class="flex align-center justify-center gap-12">
          <svg class="icon">
            <use xlink:href="./assets/images/icons.svg#edit"></use>
          </svg>
          <h2 class="title">
            Редактирование промокода: <span id="promo-code"></span>
          </h2>
        </div>
        <div class="down-separator" style="margin-top: 15px"></div>
      </div>
      <div class="mt-25 flex flex-column gap-20">
        <div class="block-inner p-16">
          <div class="flex align-start">
            <div class="flex flex-column flex-100">
              <h6 class="title text-left">Сумма</h6>
              <p class="fz-14 fw-500 text-gray lh-normal text-left">
                Сумма промокода
              </p>
            </div>
            <div class="form-group border small">
              <label class="form-group__label">
                <input
                  type="text"
                  id="promo-value"
                  class="form-group__input"
                  placeholder="введите сумму"
                />
                <button class="form-group__button"></button>
              </label>
            </div>
          </div>
        </div>
        <div class="block-inner p-16">
          <div class="flex align-start">
            <div class="flex flex-column flex-100">
              <h6 class="title text-left">Отыгрыш</h6>
              <p class="fz-14 fw-500 text-gray lh-normal text-left">
                Необходимо ли отыграть промокод для вывода средств
              </p>
            </div>
            <input
              name="1"
              type="checkbox"
              id="promo-playthrough"
              class="switch"
            />
          </div>
        </div>
        <div class="flex justify-end gap-12">
          <button
            class="btn btn-secondary radius-20 js-modal-close btn-big"
          >
            Отмена
          </button>
          <button
            class="btn btn-gradient radius-20 js-modal-close btn-big"
            onclick="showNotification('Успешно', 'Промокод обновлён.', 'success')"
          >
            Сохранить
          </button>
        </div>
      </div>
    </div>
    <div class="modal" data-modal="stats-promo">
      <svg class="icon modal-close-icon js-modal-close">
        <use xlink:href="./assets/images/icons.svg#close"></use>
      </svg>
      <div class="flex flex-column">
        <div class="flex align-center justify-center gap-12">
          <svg class="icon">
            <use xlink:href="./assets/images/icons.svg#statistics"></use>
          </svg>
          <h2 class="title">Cтатистика: <span id="stats-promo-code"></span></h2>
        </div>
        <p class="subtitle text-center mt-10">количество регистраций</p>
        <div class="down-separator" style="margin-top: 15px"></div>
      </div>
      <div class="flex flex-column">
        <div class="grid-auto gap-20" style="padding-top: 25px">
          <div class="flex-column gap-10">
            <h4 class="fz-16 text-white fw-600 title text-center">
              Активаций за все время
            </h4>
            <span
              class="mt-auto p-10 radius-20 bg-dark text-white text-center fz-24 fw-800"
              id="stats-activations"
              >140</span
            >
          </div>
          <div class="flex-column gap-10">
            <h4 class="fz-16 text-white fw-600 title text-center">
              Депозитов за все время
            </h4>
            <span
              class="mt-auto p-10 radius-20 bg-dark text-white text-center fz-24 fw-800"
              id="stats-deposits"
              >190$</span
            >
          </div>
          <div class="flex-column gap-10">
            <h4 class="fz-16 text-white fw-600 title text-center">Конверсия</h4>
            <span
              class="mt-auto p-10 radius-20 bg-dark text-white text-center fz-24 fw-800"
              id="stats-conversion"
              >3$</span
            >
          </div>
        </div>
      </div>
      <div class="down-separator mt-30 mb-30"></div>
      <div class="flex justify-between mb-24">
        <h3 class="fz-18 fw-700 text-white">Регистрации</h3>
        <h3 class="fz-18 fw-700 text-white">Сумма депозитов</h3>
      </div>
      <div class="modal-stats-grid" id="stats-registrations">
        <!-- Здесь будут динамически добавляться элементы -->
      </div>
    </div>
    <div class="modal" data-modal="delete-modal">
      <svg class="icon modal-close-icon js-modal-close">
        <use xlink:href="./assets/images/icons.svg#close"></use>
      </svg>
      <div class="flex flex-column">
        <div class="flex align-center justify-center gap-12">
          <svg class="icon">
            <use xlink:href="./assets/images/icons.svg#chart"></use>
          </svg>
          <h2 class="title">Вы уверены?</h2>
        </div>
        <div class="down-separator" style="margin-top: 15px"></div>
      </div>
      <div class="mt-25 flex flex-column gap-20">
        <div class="block-inner p-16">
          <div class="flex align-start">
            <div class="flex flex-column flex-100">
              <h6 class="title text-left">
                Вы собираетесь удалить промо "<span
                  id="data-delete-value"
                ></span
                >"
              </h6>
            </div>
          </div>
        </div>
        <div class="flex justify-end gap-12 mt-10">
          <button class="btn btn-secondary radius-20 js-modal-close btn-big">
            Отмена
          </button>
          <button
            class="btn btn-red radius-20 js-modal-close btn-big"
            onclick="showNotification('Успешно', 'Промо удалён.', 'success', timer = 2000)"
          >
            Удалить
          </button>
        </div>
      </div>
    </div>
    <script>
      renderList(items, {
        itemsPerPage: 10,
        containerSelector: ".promos__list",
        tepmlateFn: (item) => usersItemTemplate(item),
        callbackShow: () => console.log("Page updated"),
      });
    </script>
  </body>
</html>
